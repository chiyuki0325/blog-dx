---
import { SITE_TITLE, SITE_DESCRIPTION, AVATAR_URL } from "../../consts";
---

<header class="header">
  <div class="logo-wrap">
    <a class="avatar" href="/about">
      <div class="bg"></div>
      <img class="avatar" src={AVATAR_URL} alt="avatar" />
    </a>
    <a class="title" href="/">
      <div class="main" ff="title">{SITE_TITLE}</div>
      <div class="sub cap">{SITE_DESCRIPTION}</div>
    </a>
  </div>
  <nav class="menu dis-select">
    <a class="nav-item active" href="/">最新</a><a
      class="nav-item"
      href="/archives/">文章</a
    ><a class="nav-item" href="/wiki/">文档</a><a
      class="nav-item"
      href="/links/">友链</a>
  </nav>
</header>

<style lang="stylus">
@require('../../styles/func.styl')

.logo-wrap
  display: flex
  align-items: center
  overflow: hidden
  a
    color: inherit
    display: flex
    align-items: center
  a.avatar
    display: block
    position: relative
    width: 50px
    height: 50px
    flex-shrink: 0
    border-radius: 50px
    overflow: hidden
    margin-right: 1rem
    div.bg
      width: 100%
      height: 100%
      background-size: cover
    img.avatar
      margin: 2px
      object-fit: cover
      width: "calc(100% - 2 * %s)" % @margin
      height: "calc(100% - 2 * %s)" % @margin
      border-radius: @width
    div.bg
      trans1: opacity
      position: absolute
      opacity: 0 !important
      z-index: -1
      background-image: url("/rainbow.jpg")
    @keyframes spin
      from
        transform:rotate(0deg)
      to
        transform:rotate(360deg)
    &:hover
      div.bg
        opacity: 1 !important
        animation: spin infinite 4s
        animation-timing-function: linear

  a.title
    font-size: 1.75rem
    font-weight: 900
    color: inherit
    line-height: 1.2
    display: block
    position: relative
    .main
      color: var(--text-p0)
    .sub
      color: var(--text-p1)
      trans2 opacity transform
      white-space: nowrap
    .hover
      position: absolute
      bottom: 0
      transform: translateY(8px)
      overflow: visible
    &:hover
      .normal
        opacity: 0
        transform: translateY(-8px)
      .hover
        transform: translateY(0)
        opacity: 1 !important

nav.menu
  margin: 1rem 0
  margin-bottom: 0
  //background: var(--block)
  border-radius: 6px
  display: flex
  padding: 1px
  flex-wrap: wrap
  &::-webkit-scrollbar
    display: none
  &::-webkit-scrollbar-track-piece
    background: transparent
  &::-webkit-scrollbar-thumb
    display: none
  a.nav-item
    position: relative

    text-overflow: ellipsis
    flex-grow: 1
    word-break: keep-all
    margin: 1px
    border-radius: 4px
    font-size: $fs-14
    font-weight: 500
    overflow: hidden
    padding: 0.375rem 0.5rem
    color: var(--text-p3)
    text-align: center
    trans1 background
    &.active, &:hover
      color: var(--text-p1)
      background: var(--card)
      //box-shadow: 0 0 0px 0px rgba(0,0,0,0.04), 0 0 4px 0px rgba(0,0,0,0.04)
</style>
